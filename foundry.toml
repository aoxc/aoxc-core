[profile.default]
# --- Project Layout ---
src = "src"
out = "out"
libs = ["lib"]
test = "test"
script = "script"

# --- Compiler Configuration ---
solc_version = "0.8.33"
optimizer = true
optimizer_runs = 1
via_ir = true
evm_version = "cancun"

# --- Bytecode Optimization ---
bytecode_hash = "none"
cbor_metadata = false

# --- Metadata & Output Analysis ---
extra_output = [
    "abi",
    "evm.bytecode",
    "evm.deployedBytecode",
    "evm.methodIdentifiers",
    "metadata",
    "storageLayout"
]

# --- Linting & Warnings ---
# 1878: SPDX license identifier not provided in source file
# 5574: Function state mutability can be restricted to pure
# 2018: Function state mutability can be restricted to view
# 3860: Initcode size exceeds 49152 bytes (X Layer deployment fix)
ignored_error_codes = [1878, 5574, 2018, 3860]

# --- Formatter Configuration ---
[fmt]
line_length = 120
bracket_spacing = true
ignore = ["src/AOXC.sol"]

[profile.default.fmt]
mixed_case_function = true

# --- Advanced Testing Strategies ---
[fuzz]
runs = 1000 
seed = '0x31337'

[invariant]
runs = 500
depth = 15

# --- CI/CD Profile ---
[profile.ci]
optimizer = true
optimizer_runs = 1
via_ir = true

# --- Infrastructure & Connectivity ---
[rpc_endpoints]
xlayer_mainnet = "https://rpc.xlayer.tech"
xlayer_testnet = "https://testnet.xlayer.tech/rpc"

[etherscan]
xlayer = { key = "${OKLINK_API_KEY}", url = "https://www.oklink.com/api/v5/explorer/contract/verify-source-code-plugin/xlayer" }

[doc]
title = "AOXC Protocol Documentation"
repository = "https://github.com/aoxc/AOXC-Core"
